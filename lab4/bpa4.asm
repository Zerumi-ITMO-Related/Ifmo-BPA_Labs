ORG 0x3ED
START: CLA
ST R
LD Z
PUSH
CALL 0x6F0
POP
INC
SUB R
ST R
LD Y
PUSH
CALL 0x6F0
POP
DEC
SUB R
ST R
LD X
PUSH
CALL 0x6F0
POP
SUB R
ST R
HLT
Z: WORD -2000
Y: WORD -1000
X: WORD 3000
R: WORD 0xFB65
ORG 0x6F0
LD &1
BZS IFZERORL
BPL IFGREZER
IFZERORL: SUB SONE
BMI NOTCONST
JUMP CONST
NOTCONST: ADD SONE
IFGREZER: ASL
ASL
SUB &01
SUB SSEC
JUMP SAVE
CONST: LD SONE
SAVE: ST &1
RET
SONE: WORD 0xFB63
SSEC: WORD 0x0043